<div ng-controller="contentRelationsController as vm">

    <umb-load-indicator ng-if="vm.isLoading">
    </umb-load-indicator>

    <div ng-if="!vm.isLoading">

        <div class="umb-table" ng-if="vm.relations.length > 0">
            <div class="umb-table-head">
                <div class="umb-table-row">
                    <div class="umb-table-cell not-fixed">
                        <localize key="default_node">Node</localize>
                    </div>
                    <div class="umb-table-cell">
                        <localize key="default_comment">Comment</localize>
                    </div>
                    <div class="umb-table-cell">
                        <localize key="default_relationType">Relation Type</localize>
                    </div>
                    <div class="umb-table-cell">
                        <localize key="default_deleteAllowed">Delete allowed</localize>
                    </div>
                </div>
            </div>
            <div class="umb-table-body">
                <div class="umb-table-row" ng-repeat="relation in vm.relations">
                    <div class="umb-table-cell not-fixed">
                        <span><a class="btn-link -underline" ng-click="vm.navigate(relation.content.id)">{{relation.content.name}}</a></span>
                    </div>
                    <div class="umb-table-cell">
                        test
                        {{item.createDateUtc | date: "dd/MM/yyyy 'at' h:mma"}}
                    </div>
                    <div class="umb-table-cell">
                        <span ng-if="vm.permissions.canBrowseSettingsSection"><a class="btn-link -underline" ng-click="vm.navigateToRelationType(relation.relationTypeId)">{{relation.relationType.name}}</a></span>
                        <span ng-if="!vm.permissions.canBrowseSettingsSection">{{relation.relationType.name}}</span>
                    </div>
                    <div class="umb-table-cell">
                        No
                    </div>

                </div>
            </div>
        </div>


        <umb-empty-state ng-if="vm.relations.length === 0"
                         position="center">
            No relations found for this page
        </umb-empty-state>
    </div>
</div>
